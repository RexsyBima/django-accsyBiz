{% extends "base.html" %}
    {% block content %}
    <p>Hello world from home.html</p>
     <div id="map" style="height: 600px; width: 600px;"></div>
    {{ places|json_script:"places" }}

     <script>
       let places = JSON.parse(document.getElementById('places').textContent);
        var map = L.map('map').setView([41.8781, -87.6298], 13);
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);
       places.forEach(place => {
            let marker = L.marker([place.latitude, place.longitude]).addTo(map)
           marker.bindPopup(`<b>${place.name}</b><br>${place.category}`);
       })
     </script>
    {% endblock %}

